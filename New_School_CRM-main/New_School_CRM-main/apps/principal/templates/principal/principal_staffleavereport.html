{% extends 'principal/principal_index.html' %}
{% block content %}
<h2>Staff Leave Requests</h2>
<table>
    <tr>
        <th>Staff</th><th>Reason</th><th>Status</th><th>Actions</th>
    </tr>
    {% for leave in leaves %}
    <tr>
        <td>{{ leave.staff.username }}</td>
        <td>{{ leave.reason }}</td>
        <td>{{ leave.date_applied }}</td>
        <td>{{ leave.status }}</td> 
        <td>
            <form method="post">
                {% csrf_token %}
                <input type="hidden" name="leave_id" value="{{ leave.id }}">
                <button name="action" value="approve">Approve</button>
                <button name="action" value="reject">Reject</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
